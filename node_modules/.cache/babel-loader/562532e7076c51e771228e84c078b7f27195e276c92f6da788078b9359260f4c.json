{"ast":null,"code":"import React,{useEffect,useState}from'react';import{db}from'../firebase/firebase';import{collection,getDocs,query,orderBy}from'firebase/firestore';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Leaderboard(){const[players,setPlayers]=useState([]);useEffect(()=>{const fetchLeaderboard=async()=>{try{const usersRef=collection(db,'users');const q=query(usersRef,orderBy('xp','desc'));const querySnapshot=await getDocs(q);const data=querySnapshot.docs.map((doc,index)=>({id:doc.id,rank:index+1,...doc.data()}));setPlayers(data);}catch(error){console.error('Errore nel recupero della leaderboard:',error);}};fetchLeaderboard();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"p-8 max-w-2xl mx-auto\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold mb-6 text-center\",children:\"\\uD83C\\uDFC6 Classifica Giocatori\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"w-full table-auto border-collapse\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-gray-200 text-left\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"p-2\",children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2\",children:\"Giocatore\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2 text-right\",children:\"XP\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:players.map(player=>/*#__PURE__*/_jsxs(\"tr\",{className:\"border-t\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"p-2\",children:player.rank}),/*#__PURE__*/_jsx(\"td\",{className:\"p-2\",children:player.username||player.email||'Anonimo'}),/*#__PURE__*/_jsx(\"td\",{className:\"p-2 text-right\",children:player.xp})]},player.id))})]})]});}export default Leaderboard;","map":{"version":3,"names":["React","useEffect","useState","db","collection","getDocs","query","orderBy","jsx","_jsx","jsxs","_jsxs","Leaderboard","players","setPlayers","fetchLeaderboard","usersRef","q","querySnapshot","data","docs","map","doc","index","id","rank","error","console","className","children","player","username","email","xp"],"sources":["C:/Users/user/lootclub/src/pages/Leaderboard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { db } from '../firebase/firebase';\nimport { collection, getDocs, query, orderBy } from 'firebase/firestore';\n\nfunction Leaderboard() {\n  const [players, setPlayers] = useState([]);\n\n  useEffect(() => {\n    const fetchLeaderboard = async () => {\n      try {\n        const usersRef = collection(db, 'users');\n        const q = query(usersRef, orderBy('xp', 'desc'));\n        const querySnapshot = await getDocs(q);\n        const data = querySnapshot.docs.map((doc, index) => ({\n          id: doc.id,\n          rank: index + 1,\n          ...doc.data()\n        }));\n        setPlayers(data);\n      } catch (error) {\n        console.error('Errore nel recupero della leaderboard:', error);\n      }\n    };\n\n    fetchLeaderboard();\n  }, []);\n\n  return (\n    <div className=\"p-8 max-w-2xl mx-auto\">\n      <h1 className=\"text-3xl font-bold mb-6 text-center\">üèÜ Classifica Giocatori</h1>\n      <table className=\"w-full table-auto border-collapse\">\n        <thead>\n          <tr className=\"bg-gray-200 text-left\">\n            <th className=\"p-2\">#</th>\n            <th className=\"p-2\">Giocatore</th>\n            <th className=\"p-2 text-right\">XP</th>\n          </tr>\n        </thead>\n        <tbody>\n          {players.map((player) => (\n            <tr key={player.id} className=\"border-t\">\n              <td className=\"p-2\">{player.rank}</td>\n              <td className=\"p-2\">{player.username || player.email || 'Anonimo'}</td>\n              <td className=\"p-2 text-right\">{player.xp}</td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n}\n\nexport default Leaderboard;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,EAAE,KAAQ,sBAAsB,CACzC,OAASC,UAAU,CAAEC,OAAO,CAAEC,KAAK,CAAEC,OAAO,KAAQ,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEzE,QAAS,CAAAC,WAAWA,CAAA,CAAG,CACrB,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAE1CD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAc,gBAAgB,CAAG,KAAAA,CAAA,GAAY,CACnC,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAGZ,UAAU,CAACD,EAAE,CAAE,OAAO,CAAC,CACxC,KAAM,CAAAc,CAAC,CAAGX,KAAK,CAACU,QAAQ,CAAET,OAAO,CAAC,IAAI,CAAE,MAAM,CAAC,CAAC,CAChD,KAAM,CAAAW,aAAa,CAAG,KAAM,CAAAb,OAAO,CAACY,CAAC,CAAC,CACtC,KAAM,CAAAE,IAAI,CAAGD,aAAa,CAACE,IAAI,CAACC,GAAG,CAAC,CAACC,GAAG,CAAEC,KAAK,IAAM,CACnDC,EAAE,CAAEF,GAAG,CAACE,EAAE,CACVC,IAAI,CAAEF,KAAK,CAAG,CAAC,CACf,GAAGD,GAAG,CAACH,IAAI,CAAC,CACd,CAAC,CAAC,CAAC,CACHL,UAAU,CAACK,IAAI,CAAC,CAClB,CAAE,MAAOO,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,wCAAwC,CAAEA,KAAK,CAAC,CAChE,CACF,CAAC,CAEDX,gBAAgB,CAAC,CAAC,CACpB,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEJ,KAAA,QAAKiB,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eACpCpB,IAAA,OAAImB,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAC,mCAAuB,CAAI,CAAC,cAChFlB,KAAA,UAAOiB,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAClDpB,IAAA,UAAAoB,QAAA,cACElB,KAAA,OAAIiB,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eACnCpB,IAAA,OAAImB,SAAS,CAAC,KAAK,CAAAC,QAAA,CAAC,GAAC,CAAI,CAAC,cAC1BpB,IAAA,OAAImB,SAAS,CAAC,KAAK,CAAAC,QAAA,CAAC,WAAS,CAAI,CAAC,cAClCpB,IAAA,OAAImB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAAC,IAAE,CAAI,CAAC,EACpC,CAAC,CACA,CAAC,cACRpB,IAAA,UAAAoB,QAAA,CACGhB,OAAO,CAACQ,GAAG,CAAES,MAAM,eAClBnB,KAAA,OAAoBiB,SAAS,CAAC,UAAU,CAAAC,QAAA,eACtCpB,IAAA,OAAImB,SAAS,CAAC,KAAK,CAAAC,QAAA,CAAEC,MAAM,CAACL,IAAI,CAAK,CAAC,cACtChB,IAAA,OAAImB,SAAS,CAAC,KAAK,CAAAC,QAAA,CAAEC,MAAM,CAACC,QAAQ,EAAID,MAAM,CAACE,KAAK,EAAI,SAAS,CAAK,CAAC,cACvEvB,IAAA,OAAImB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAAEC,MAAM,CAACG,EAAE,CAAK,CAAC,GAHxCH,MAAM,CAACN,EAIZ,CACL,CAAC,CACG,CAAC,EACH,CAAC,EACL,CAAC,CAEV,CAEA,cAAe,CAAAZ,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}